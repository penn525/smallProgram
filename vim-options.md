# 1. 文档操作
:e file -- 关闭当前文件，并开启新文件
:e! fiel -- 放弃对当前文件的修改，编辑新文件
:e -- 重载当前文件
:e# 或者 ctrl+^ -- 回到刚才编辑的文件， 实用

:f filename -- 文件重命名, 再保存等价于另存为
gf -- go file 打开当前光标所在字符串为文件名的文件
:saveas newfilename -- 另存为

:w  :q  :q!  :wq 或 :x 或 ZZ

:Sex -- 水平分割窗口，浏览文件系统
:Vex -- 垂直分割窗口， 浏览文件系统

# 2. 光标移动

## 2.1 基本移动
- 基础
h左 j下 k上 l右
+ 或 Enter -- 移动到下一行第一个非空白字符
\- -- 移动到上一行第一个非空白字符

- 单词间移动

w(word) -- 后移一个单词，光标停在开头
W -- 。。。 忽略一些标点
e(end) -- 后移一个单词，光标停在末尾
E -- 。。。 忽略标点 
b(before) -- 前移单词，光标停在单词开头
B -- 。。。 ， 忽略一些标点 

- 同行移动
fc (find char) -- 把光标移动到同行的下一个c字符处
Fc (find char) -- ... 上 ...
tc (till char) -- 把光标移动到同行的下一个c字符前
Tc (till char) -- ... 上 ...
;  --  配合 f & t 使用， 重复一次
,  --  ... , 反向重复一次

0 -- 移动到行首
$ -- ... 行尾
^ -- 移动到行首，第一个非空白字符 


- 行间移动
{ -- 前移一段
} -- 后移一段

H -- 移动到屏幕上部一行
M -- ... 中间 ...
L -- ... 下部 ...

ngg 或者 nG -- 移动到第n行
nl -- 移动到n列
gg -- 移动到文件头部
G -- 移动到文件尾部

## 2.2 翻屏
ctrl+f(front) -- 下翻一屏
ctrl+b(before) -- 上...
ctrl+d(down) -- 下翻半屏
ctrl+u(upper) -- 上...
ctrl+e -- 屏幕向下滚动一行
ctrl+y -- ... 上 ...

n% -- 到文件 n% 位置
zz -- 将当前行移动到屏幕中央
zt -- ...top...
zb -- ...buttom...

## 2.3 标记
标记可用于快速移动

ctrl+o -- 返回原来的位子
ctrl+i -- 到跳转的位置

m{a-z} -- 标记光标所在位置，局部标记, 只用于当前文件
m{A-Z} -- 标记光标所在位置，全局标记, 退出vim，标记仍然有效
\`{a-z} -- 移动到标记位置
'{a-z} -- 移动到标记位置首行
`` -- 移动到上次编辑的位置
`" -- 移动到上次离开的位置
`. -- 移动到最后改动的地方

:marks -- 显示所有的标记
:delmarks a-c -- 删除标记a到b
:delmakrs! -- 删除当前缓存区所有标记

# 3. 插入文本

## 3.1 基本插入

i -- 在光标前插(按10，再按i， 输入=， 按ESC，出现10个=)
I -- 在当前行第一个非空字符前插入
a -- 后插
A -- 在当前行最后插入
o -- 在下一行插入新行
O -- 在上一行插入新行

:r filename -- 在当前位置行插入另一个文件的内容
:[n]r filename -- 在第n行插入另一个文件内容
:r !date -- 当前位置插入日期
(还有command, time等)

## 3.2 改写插入

c[n]w 或 [n]s -- 改写光标后1（n）个词	
c[n]l -- 改写光标后n个字母
c[n]h -- 改写光标前n个字母
[n]cc -- 更写当前之后n行

# 4. 剪切复制和寄存器

## 4.1 剪切，复制，粘贴

y -- 复制可视模式下选中的文本
[n]yy or [n]Y -- 复制整行
y[n]w -- 复制n个词
y$ -- 从当前位置复制到行尾
y0 -- ...头

:m,ny -- 复制m - n 行内容
ygg -- 复制光标以上所有行
yG -- ...以下...

__剪切d和和复制y__一样

p -- 在光标之后粘贴
P -- ...前...

## 4.2 文本对象

aw -- 一个词 
as -- 一句
ap -- 一段 
ab -- 一块（包在圆括号中）
y, d, c, v都可以跟文本对象

## 4.3 寄存器

"{a-z}yy  --  把当前行放入a-z中的一个寄存器中
"{A-Z}yy  -- 把当前行追加到相应的小写字母的寄存器中
:reg -- 显示所有寄存器
"ap -- 粘贴a寄存器中的内容

"+ -- 系统剪贴板
"+yy -- 把当前行放入系统剪贴板

# 5. 查找和替换

## 5.1 查找

/something -- 在后面文本中查找something
?something -- ...前...
n -- 向后查找下一个
N -- ...前...

:vim[grep]/pattern/[g][i] -- vimgrep查找

## 5.2 替换

:s/old/new -- 用new替换本行第一个old
:s/old/new/g -- 用new替换当前行所有old
:m,ns/old/new/g -- 替换m-n行
:%s/old/new/g -- 替换整个文本内的
:m,ns/^/XXX/g -- m-n行行首插入 xxx 
:%s/$/xxx/gci -- 全文行尾插入, c-需要确认， i--忽略大小写

# 6. 编辑多个文件

## 6.1 多标签编辑

:tabe [filename] or :tabnew [filenname] -- 在新标签中打开文件，没有文件就是缓存区
:tabn -- 切换到下一个标签
:tabp -- ...上...
[n]gt -- 切换到第n个标签，如果没有n，就是下一个
:tabc[close] -- 关闭当前标签
:tabo[nly] -- 关闭其他标签页
:tabs -- 显示所有标签列表

## 6.2 缓存区

:bn -- 下一个缓存区
:bp -- 上...
:bl -- 最后一个...
:b[n] or :[n]b -- 切换到第n个缓存区 
:nbw[ipeout] -- 彻底删除第n个缓存区

# 7. 分屏编辑

vim -o file1 file2 -- 水平分割 
vim -O file1 file2 -- 垂直分割 

## 7.1 水平切割

:sp or :split -- 水平分割 
:split filename -- 水平分割，新窗口显示文件
:nsp -- 水平分割一个n行高的窗口
:[N]new 

## 7.2 垂直切割

:vsp 
:[N]vne[w]

## 7.3 关闭子窗口

:qall -- 关闭所有窗口， 退出vim 
:wall -- 保存所有修该国的窗口
:only -- 只保留当前窗口
:close -- 关闭当前窗口

## 7.4 切换窗口

ctrl+w w -- 切换下一个窗口
ctrl+w p -- ...上...
ctrl+w h(l,j,k) -- 切换到左（右，下， 上）的窗口 
ctrl+w T -- 将当前窗口移动到新的标签页上

# 8. 快速编辑

## 8.1 替换 （normal 模式）

r -- 替换光标处字符，完成后，返回noraml
R -- 进入替换模式， 按ESC 返回 normal 

## 8.2 撤销和重做 （normal）
[n]u -- 取消一个（n）个改动
:undo n -- 同上
ctrl + r -- 重做最后的改动
:earlier 4m -- 回到4分钟前
:later 55s -- 前进55s

# 9. 编辑特殊文件

:e ++enc=utf8 filename  -- 以utf-8编码打开文件
:w ++enc=gbk -- 以gbk保存当前文件

# 10. 变成辅助

## 10.1 按键
gd -- go definition 回到局部变量定义处
gD -- 全局变量定义出， 从当前文件开始搜索
g; -- 上一个修改过的地方
g, -- 下一个修改过的地方
[[ -- 跳转到一个函数快的开始， 需要有单独的一行 {
]] -- 跳转到一个函数快的结束， 需要有单独的一行 }
[/ -- 跳转到注释开始处
% -- 能匹配(), {}, [], 而且能在#if， #else， #endif中跳转

ci', di', yi' -- 修改，剪切，复制 '' 之间的内容
ca', da', ya' -- 修改，剪切，复制 '' 之间的内容,包括''
还可是 ", (, [, {, <

## 10.2 折叠
zf -- 创建折叠
zd(delete) -- 删除当前行的折叠
zfap -- 折叠光标所在的段落
zo(open) -- 打开当前折叠
zc(close) -- 收起当前折叠
za(alter) -- 切换当前折叠
zr(revursive) -- 打开嵌套的折行
zm(min) -- 收起嵌套的折行
zR(zO) -- 打开所有折行
zM(zC) -- 收起所有折行
zj(jump) -- 调到下一个折叠处
zi -- enable/disable flod
